<!DOCTYPE html>


<!--
 | Generated by Apache Maven Doxia Site Renderer 2.0.0-M16 from src/site/xdoc/migrate.xml at 11 Feb 2024
 | Rendered using Apache Maven Fluido Skin 2.0.0-M8
-->
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="generator" content="Apache Maven Doxia Site Renderer 2.0.0-M16" />
    <meta name="author" content="The MyBatis Team" />
    <title>MyBatis Migrations – MyBatis Migrations | Migrate</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-2.0.0-M8.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />
    <script src="./js/apache-maven-fluido-2.0.0-M8.min.js"></script>
  </head>
  <body>
    <div class="container-fluid container-fluid-top">
      <header>
        <div id="banner">
          <div class="pull-left"></div>
          <div class="pull-right"><div id="bannerRight"><h1><a href="https://blog.mybatis.org/" class="externalLink"><img class="imageLink" src="../images/mybatis-logo.png" alt="MyBatis logo" /> MyBatis</a></h1></div></div>
          <div class="clear"><hr/></div>
        </div>

        <div id="breadcrumbs">
          <ul class="breadcrumb">
        <li id="publishDate">Last Published: 11 Sep 2025<span class="divider">|</span>
</li>
          <li id="projectVersion">Version: 3.3.12-SNAPSHOT</li>
          </ul>
        </div>
      </header>
      <div class="row-fluid">
        <header id="leftColumn" class="span2">
          <nav class="well sidebar-nav">
  <ul class="nav nav-list">
   <li class="nav-header">Migrations</li>
    <li><a href="index.html">Introduction</a></li>
    <li><a href="installation.html">Installation</a></li>
    <li class="active"><a><span class="icon-chevron-down"></span>The &apos;migrate&apos; Command</a>
     <ul class="nav nav-list">
      <li><a href="init.html">init</a></li>
      <li><a href="bootstrap.html">bootstrap</a></li>
      <li><a href="new.html">new</a></li>
      <li><a href="status.html">status</a></li>
      <li><a href="updown.html">up, down</a></li>
      <li><a href="version.html">version</a></li>
      <li><a href="pending.html">pending</a></li>
      <li><a href="redo.html">redo</a></li>
      <li><a href="script.html">script</a></li>
      <li><a href="shortcuts.html">Command Shortcuts</a></li>
      <li><a href="custom-loader.html">Custom MigrationLoader</a></li>
     </ul></li>
    <li><a href="hooks.html">Migration Hooks</a></li>
    <li><a href="runtime-migration.html">Runtime Schema Migration</a></li>
   <li class="nav-header">Project Documentation</li>
    <li><a href="project-info.html"><span class="icon-chevron-right"></span>Project Information</a></li>
    <li><a href="project-reports.html"><span class="icon-chevron-right"></span>Project Reports</a></li>
  </ul>
          </nav>
          <div class="well sidebar-nav">
            <div id="poweredBy">
              <div class="clear"></div>
              <div class="clear"></div>
              <div class="clear"></div>
<a href="https://maven.apache.org/" class="builtBy" target="_blank"><img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" /></a>
            </div>
          </div>
        </header>
        <main id="bodyColumn" class="span10">


  
    <section>
<h1>Introduction</h1>
      
<p>The entire Migrations system can be accessed through this one simple command. You can access the built-in help by typing: <code>migrate --help</code>.</p>
      
<p>Calling the migrate command with no options or invalid options also produces the help message. Here's the output of the help command:</p>

      
<div class="verbatim source"><pre class="prettyprint">Usage: migrate command [parameter] [--path=&lt;directory&gt;] [--env=&lt;environment&gt;]
               [--template=&lt;path to template&gt;]
--path=&lt;directory&gt;   Path to repository.  Default current working directory.
--env=&lt;environment&gt;  Environment to configure. Default environment is 'development'.
--force              Forces script to continue even if SQL errors or warnings are encountered.
--help               Displays this usage message.
--trace              Shows additional error details (if any).
--template           (Optional) Specify template to be used with &#x2018;new'command
--quiet              Suppresses output.
--color              Colorize output.
Commands:
  init               Creates (if necessary) and initializes a migration path.
  bootstrap          Runs the bootstrap SQL script (see scripts/bootstrap.sql for more).
  new &lt;description&gt;  Creates a new migration with the provided description.
  up                 Run all unapplied migrations.
  down               Undoes the last migration applied to the database.
  version &lt;version&gt;  Migrates the database up or down to the specified version.
pending
status
script &lt;v1&gt; &lt;v2&gt;
Force executes pending migrations out of order (not recommended).
Prints the changelog from the database if the changelog table exists.
Generates a delta migration script from version v1 to v2 (undo if v1 &gt; v2).</pre></div>

      
<p>We'll go through each of these commands in detail, but first, let's talk about lifecycle.</p>
    </section>

    <section>
<h1>The MyBatis Migrations Lifecycle</h1>
      
<p>Database change management is difficult at the best of times, so to make the situation better, it&#x2019;s important to have a good database evolution strategy. That employed by MyBatis Migrations targets a few key goals:</p>
      
<ul>
        
<li>Consistent &#x2013; The schema should be predictable on every machine it&#x2019;s created on.</li>
        
<li>Repeatable &#x2013; The schema can be destroyed and recreated a predictable way.</li>
        
<li>Reversible &#x2013; Changes should be able to be rolled back, or undone.</li>
        
<li>Versioned &#x2013; The version of the schema should be identifiable (via query or tool).</li>
        
<li>Auditable &#x2013; The schema evolution should be auditable and the changes to it logged.</li>
        
<li>Automated &#x2013; The evolution (or devolution) of the schema should be fully automated.</li>
        
<li>Serial &#x2013; The evolution in the database should never branch or evolve conditionally.</li>
        
<li>Immutable Changes &#x2013; No past applied alter or evolution of the database should be modified, instead a new change should be created.</li>
        
<li>Concurrently Modifiable &#x2013; The schema should be safely modifiable by multiple people or teams in a way that encourages teamwork, communication and easy identification of conflicts, without depending on text comparisons (diff) or any particular source control feature (conflicts), but should work very well with source control systems.</li>
      </ul>
      
<p>Thus, the lifecycle of a schema managed with MyBatis Migrations is as follows:</p>
      
<ol style="list-style-type: decimal;">
        
<li>Initialize Repository</li>
        
<li>Bootstrap database schema</li>
        
<li>Create a new migration (or many migrations)</li>
        
<li>Apply migrations</li>
      </ol>
      
<p>Optional steps include:</p>
      
<ul>
        
<li>Revert migrations if necessary to resolve conflicts</li>
        
<li>Apply pending migrations out of order if it&#x2019;s safe to do so</li>
        
<li>Generate migration scripts to be run &#x201c;offline&#x201d; in environments that are beyond your control</li>
        
<li>Get the status of the system at any time</li>
      </ul>
      
<p>The following command discussions will provide more detail about how this lifecycle works.</p>
    </section>
  


        </main>
      </div>
    </div>
    <hr/>
    <footer>
      <div class="container-fluid">
        <div class="row-fluid">
            <p>©      2010–2024
<a href="https://www.mybatis.org/">MyBatis.org</a>
</p>
        </div>
      </div>
    </footer>
<script>
  if(anchors) {
    anchors.add();
  }
</script>
  </body>
</html>
